(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"11dc":function(t,e,s){"use strict";var n=s("df02"),a=s.n(n);a.a},3040:function(t,e,s){"use strict";s.r(e);var n=s("3233"),a=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},3233:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,a=i(s("13f5"));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,s):{};n.get||n.set?Object.defineProperty(e,s,n):e[s]=t[s]}return e.default=t,e}var o={data:function(){return{money:200,Fabulous:300,user:"",UserInfoByID:"",UserInfoByToken:"",IntegralData:"",Answer:""}},methods:{selectUserInfo:function(){var t=this,e=localStorage.getItem("userInfo");t.user=JSON.parse(e),console.log(t.user)},getTokenForUser:function(t){var e={Token:t},s=JSON.stringify(e),a={Message:s,Tag:"ac",ActionMethod:"UserBLL.GetUserInfoByToken"};n.send(JSON.stringify(a))},getIdForUser:function(t){console.log(t);var e={ID:t},s=JSON.stringify(e),a={Message:s,Tag:"ac",ActionMethod:"UserBLL.GetUserInfoByID"};n.send(JSON.stringify(a))},isRight:function(t){var e={AccountName:t,QuestionID:1,Reply:"1",RecordID:1090},s=JSON.stringify(e),n={Message:s,Tag:"ac",ActionMethod:"RecordQuestionBLL.IsRight"};this.websocketsend(n)},updateIntegral:function(t){var e={AccountName:t,Integral:38},s=JSON.stringify(e),n={Message:s,Tag:"ac",ActionMethod:"UserBLL.UpdateIntegral"};console.log(n),this.websocketsend(n)},webSocketClientOnmessage:function(t){var e=JSON.parse(t.data),s="string"==typeof e?JSON.parse(e):e;if("UserBLL.GetUserInfoByID"==s.ActionMethod){var n=JSON.parse(s.Message),a=n;200===a.Code&&(this.UserInfoByID=a.Data,console.log("根据ID:"+this.UserInfoByID))}else if("UserBLL.GetUserInfoByToken"==s.ActionMethod){n=JSON.parse(s.Message),a=n;200===a.Code&&(this.UserInfoByToken=a.Data,console.log("根据Token:"+this.UserInfoByToken))}else if("RecordQuestionBLL.IsRight"==s.ActionMethod){n=JSON.parse(s.Message);console.log("模拟答题："+JSON.stringify(n));a=n;200===a.Code&&(this.Answer=a.Data,console.log("模拟答题:"+this.Answer))}else if("UserBLL.UpdateIntegral"==s.ActionMethod){n=JSON.parse(s.Message);console.log("修改积分："+JSON.stringify(n));a=n;200===a.Code&&(this.IntegralData=a.Data,console.log("修改积分:"+this.IntegralData))}},initWebSocket:function(){n=new WebSocket(a.wsuri),n.onopen=this.webSocketClientOnopen,n.onmessage=this.webSocketClientOnmessage,n.onerror=this.webSocketClientOnerror,n.onclose=this.webSocketClientOnclose},webSocketClientOnopen:function(){var t={FromUser:this.user.Token,Tag:"c"};this.websocketsend(t)},websocketsend:function(t){n.send(JSON.stringify(t))},webSocketClientOnerror:function(t){this.initWebSocket(),console.log("websock连接错误,重新连接",t)},webSocketClientOnclose:function(t){console.log("websock连接关闭",t)}},created:function(){this.selectUserInfo(),this.initWebSocket()},onLoad:function(){}};e.default=o},"52fe":function(t,e,s){"use strict";s("7f50");var n=i(s("b0ce")),a=i(s("7f6e"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))},"7f6e":function(t,e,s){"use strict";s.r(e);var n=s("b1da"),a=s("3040");for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);s("11dc");var o=s("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},b1da:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"text-font"},[s("view",{staticClass:"list-content"},[s("view",{staticClass:"list"},[t.user?s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"textName"},[t._v("用户名："),s("text",[t._v(t._s(t.user.AccountName))])]),s("view",{staticClass:"textName"},[t._v("编号："),s("text",[t._v(t._s(t.user.ID))])])]):s("view",{staticClass:"li noborder"},[s("navigator",{attrs:{url:"../login/login"}},[t._v("你还没登陆，请去登陆")])],1),s("view",{staticClass:"user-data-bar"},[s("view",{staticClass:"data-bar"},[t._v("积分:"),s("text",{staticClass:"data-bar-num"},[t._v(t._s(t.user.Integral))])]),s("view",{staticClass:"data-bar"},[t._v("现金:"),s("text",{staticClass:"data-bar-num"},[t._v(t._s(t.money))])]),s("view",{staticClass:"data-bar"},[t._v("排名:"),s("text",{staticClass:"data-bar-num"},[t._v(t._s(t.Fabulous))])])])])]),s("view",{staticClass:"list-content",staticStyle:{"margin-top":"15rpx"}},[s("view",{staticClass:"list"},[s("view",{staticClass:"li"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text"},[s("navigator",{attrs:{url:"../record/record"}},[t._v("游戏记录")])],1)])]),t._m(0),s("view",{staticClass:"list"},[s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text",attrs:{eventid:"55ebd440-0"},on:{click:function(e){t.getIdForUser(t.user.ID)}}},[t._v("根据ID")])])]),s("view",{staticClass:"list"},[s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text",attrs:{eventid:"55ebd440-1"},on:{click:function(e){t.getTokenForUser(t.user.Token)}}},[t._v("根据Token")])])]),s("view",{staticClass:"list"},[s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text",attrs:{eventid:"55ebd440-2"},on:{click:function(e){t.isRight(t.user.Token)}}},[t._v("模拟用户答题")])])]),s("view",{staticClass:"list"},[s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text",attrs:{eventid:"55ebd440-3"},on:{click:function(e){t.updateIntegral(t.user.Token)}}},[t._v("修改积分")])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"list"},[s("view",{staticClass:"li noborder"},[s("image",{staticClass:"icon",attrs:{src:"../../static/logo.png"}}),s("view",{staticClass:"text"},[t._v("进入游戏")])])])}];s.d(e,"a",function(){return n}),s.d(e,"b",function(){return a})},df02:function(t,e,s){}},[["52fe","common/runtime","common/vendor"]]]);